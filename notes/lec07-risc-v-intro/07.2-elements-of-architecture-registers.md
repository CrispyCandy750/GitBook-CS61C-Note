---
description: 本节内容：1.；2.；3.
---

# 07.2-Elements of Architecture: Registers

{% embed url="https://youtu.be/mIDxHr5_sxo?si=EIE6bPo7SvFAlf5W" %}
lecture video address
{% endembed %}

## Instruction Set

![image-20240603212553114](.image/image-20240603212553114.png)

Instruction set for a particular architecture (e.g. RISC-V) is represented by the Assembly language

Each line of assembly code represents one instruction for the compute

## Assembly Variables: Registers(1/3)

Unlike HLL like C or Java, assembly cannot use variables

- Why not? Keep Hardware Simple

Assembly operands are registers

- Limited number of special locations built directly into the hardware
- Operations can only be performed on these!

Benefit: Since registers are directly in hardware, they’re very fast (faster than 0.25ns)

- Recall light is 3x10^8^m/s = 0.3m/ns = 30cm/ns = 10cm/0.3ns!!!… where 0.3ns is the clock period of a 3.33GHz computer

### Aside: Registers are Inside the Processor

![image-20240603212703064](.image/image-20240603212703064.png)

### Great Idea #3: Principle of Locality / Memory Hierarchy

![image-20240603212730900](.image/image-20240603212730900.png)

## Assembly Variables: Registers (2/3)

Drawback: Since registers are in hardware, there is a predetermined number of them

- Solution: RISC-V code must be very carefully put together to efficiently use registers

32 registers in RISC-V

- Why 32?
- Smaller is faster, but too small is bad. Goldilocks principle (“This porridge is too hot; This porridge is too cold; this porridge is just right”)

Each RISC-V register is 32 bits wide (in RV32 variant)

- Groups of 32 bits called a word in RV32
- P&H textbook uses the 64-bit variant RV64

## Assembly Variables: Registers (3/3)

Registers are numbered from 0 to 31

- Referred to by number x0 – x31

x0 is special, always holds value zero

- So only 31 registers able to hold variable values

Each register can be referred to by number or name

- Will add names later

## C, Java variables vs. registers

In C (and most high-level languages) variables declared first and given a type. E.g

```c
int fahr, celsius;
char a, b, c, d, e;
```

Each variable can ONLY represent a value of the type it was declared as (cannot mix and match int and char variables).

In assembly language, the registers have no type

- Operation determines how register contents are treated

## Comments in Assembly

Make your code more readable: comments!

Hash (#) is used for RISC-V comments

- anything from hash mark to end of line is a comment and will be ignored
- This is just like the C99 //

## Assembly Instructions

In assembly language, each statement (called an Instruction), executes exactly one of a short list of simple commands

Unlike in C (and most other high-level languages), each line of assembly code contains at most 1 instruction

Instructions are related to operations (=, +, -, *, /) in C or Java

Ok, enough already…gimme my RV32!



