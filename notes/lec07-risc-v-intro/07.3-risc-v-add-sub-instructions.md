---
description: 本节内容：1.；2.；3.
---

# 07.3-RISC-V add/sub Instructions

{% embed url="https://youtu.be/-Vv4UaG9o9k?si=jMdDZtH3KyNByuNM" %}
lecture video address
{% endembed %}

## RISC-V Addition and Subtraction (1/4)

### Syntax

Syntax of Instructions:

![image-20240603213106277](.image/image-20240603213106277.png)

one~four表示的内容如下

| 序号  | 内容                                         |
| ----- | -------------------------------------------- |
| one   | operation by name                            |
| two   | = operand getting result (“destination,” x1) |
| three | 1st operand for operation (“source1,” x2)    |
| four  | 2nd operand for operation (“source2,” x3)    |

Syntax is rigid: 1 operator, 3 operands

Why? Keep hardware simple via regularity

### Addition & Subtraction of Integer

Addition in Assembly

Example：in RISC-V

```assembly
add x1,x2,x3 
```

Equivalent to: in C

```c
a = b + c
```

where C variables ⇔ RISC-V registers are: a ⇔ x1, b ⇔ x2, c ⇔ x3

---

Subtraction in Assembly

Example：in RISC-V

```assembly
sub x3,x4,x5
```

Equivalent to: in C

```c
d = e - f
```

where C variables ⇔ RISC-V registers are: d ⇔ x3, e ⇔ x4, f ⇔ x5

### C → Assembly

How to do the following C statement?

```c
a = b + c + d - e;
```

Break into multiple instructions

```Assembly
add x10, x1, x2 # a_temp = b + c
add x10, x10, x3 # a_temp = a_temp + d
sub x10, x10, x4 # a = a_temp - e
```

【Notice】

- A single line of C may break up into several lines of RISC-V.
- Everything after the hash mark on each line is ignored (comments). 

---

How do we do this?

```c
f = (g + h) - (i + j);
```

Use **intermediate** temporary register

```Assembly
add x5, x20, x21 # a_temp = g + h
add x6, x22, x23 # b_temp = i + j
sub x19, x5, x6 # f = (g + h)- (i + j)
```

